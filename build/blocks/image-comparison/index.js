(()=>{"use strict";const e=window.React,l=window.wp.blocks,t=window.wp.blockEditor,a=window.wp.components,n=window.wp.i18n;(0,l.registerBlockType)("modular-blocks/image-comparison",{edit:({attributes:l,setAttributes:o})=>{const{beforeImage:r,afterImage:i,beforeLabel:s,afterLabel:u,orientation:d,startingPosition:c,showLabels:m,hoverAnimation:g,height:p,transitionMode:b}=l,h=(0,t.useBlockProps)();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(a.PanelBody,{title:(0,n.__)("Bilder","modular-blocks-plugin")},(0,e.createElement)("div",{style:{marginBottom:"15px"}},(0,e.createElement)("strong",null,(0,n.__)("Vorher-Bild","modular-blocks-plugin")),(0,e.createElement)(t.MediaUploadCheck,null,(0,e.createElement)(t.MediaUpload,{onSelect:e=>{o({beforeImage:{url:e.url,alt:e.alt,id:e.id}})},allowedTypes:["image"],value:r.id,render:({open:l})=>(0,e.createElement)(a.Button,{onClick:l,variant:"secondary",style:{marginTop:"5px"}},r.url?(0,n.__)("Bild ändern","modular-blocks-plugin"):(0,n.__)("Bild auswählen","modular-blocks-plugin"))})),r.url&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("img",{src:r.url,alt:r.alt,style:{maxWidth:"100%",marginTop:"10px",borderRadius:"4px"}}),(0,e.createElement)(a.Button,{onClick:()=>{o({beforeImage:{url:"",alt:"",id:null}})},variant:"tertiary",isDestructive:!0,style:{marginTop:"5px"}},(0,n.__)("Entfernen","modular-blocks-plugin")))),(0,e.createElement)("div",{style:{marginBottom:"15px"}},(0,e.createElement)("strong",null,(0,n.__)("Nachher-Bild","modular-blocks-plugin")),(0,e.createElement)(t.MediaUploadCheck,null,(0,e.createElement)(t.MediaUpload,{onSelect:e=>{o({afterImage:{url:e.url,alt:e.alt,id:e.id}})},allowedTypes:["image"],value:i.id,render:({open:l})=>(0,e.createElement)(a.Button,{onClick:l,variant:"secondary",style:{marginTop:"5px"}},i.url?(0,n.__)("Bild ändern","modular-blocks-plugin"):(0,n.__)("Bild auswählen","modular-blocks-plugin"))})),i.url&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("img",{src:i.url,alt:i.alt,style:{maxWidth:"100%",marginTop:"10px",borderRadius:"4px"}}),(0,e.createElement)(a.Button,{onClick:()=>{o({afterImage:{url:"",alt:"",id:null}})},variant:"tertiary",isDestructive:!0,style:{marginTop:"5px"}},(0,n.__)("Entfernen","modular-blocks-plugin"))))),(0,e.createElement)(a.PanelBody,{title:(0,n.__)("Anzeigemodus","modular-blocks-plugin")},(0,e.createElement)(a.SelectControl,{label:(0,n.__)("Überblendungsmodus","modular-blocks-plugin"),value:b,options:[{label:(0,n.__)("Einblenden (Slide)","modular-blocks-plugin"),value:"slide"},{label:(0,n.__)("Überblenden (Fade)","modular-blocks-plugin"),value:"fade"},{label:(0,n.__)("Juxtaposition (Classic)","modular-blocks-plugin"),value:"juxtaposition"}],onChange:e=>o({transitionMode:e})}),(0,e.createElement)(a.SelectControl,{label:(0,n.__)("Orientierung","modular-blocks-plugin"),value:d,options:[{label:(0,n.__)("Horizontal","modular-blocks-plugin"),value:"horizontal"},{label:(0,n.__)("Vertikal","modular-blocks-plugin"),value:"vertical"}],onChange:e=>o({orientation:e})}),(0,e.createElement)(a.RangeControl,{label:(0,n.__)("Start-Position (%)","modular-blocks-plugin"),value:c,onChange:e=>o({startingPosition:e}),min:0,max:100})),(0,e.createElement)(a.PanelBody,{title:(0,n.__)("Beschriftung & Darstellung","modular-blocks-plugin")},(0,e.createElement)(a.TextControl,{label:(0,n.__)("Vorher-Label","modular-blocks-plugin"),value:s,onChange:e=>o({beforeLabel:e})}),(0,e.createElement)(a.TextControl,{label:(0,n.__)("Nachher-Label","modular-blocks-plugin"),value:u,onChange:e=>o({afterLabel:e})}),(0,e.createElement)(a.RangeControl,{label:(0,n.__)("Höhe (px)","modular-blocks-plugin"),value:p,onChange:e=>o({height:e}),min:200,max:800}),(0,e.createElement)(a.ToggleControl,{label:(0,n.__)("Labels anzeigen","modular-blocks-plugin"),checked:m,onChange:e=>o({showLabels:e})}),(0,e.createElement)(a.ToggleControl,{label:(0,n.__)("Hover-Animation","modular-blocks-plugin"),checked:g,onChange:e=>o({hoverAnimation:e})}))),(0,e.createElement)("div",{...h},(0,e.createElement)("div",{className:"image-comparison-container"},(0,e.createElement)("div",{className:"comparison-preview",style:{height:`${p}px`,position:"relative",border:"1px solid #ddd"}},r.url&&i.url?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{position:"relative",width:"100%",height:"100%"}},(0,e.createElement)("img",{src:i.url,alt:i.alt,style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,e.createElement)("div",{style:{position:"absolute",top:0,left:0,width:`${c}%`,height:"100%",overflow:"hidden"}},(0,e.createElement)("img",{src:r.url,alt:r.alt,style:{width:"100%",height:"100%",objectFit:"cover"}})),(0,e.createElement)("div",{style:{position:"absolute",left:`${c}%`,top:0,bottom:0,width:"4px",backgroundColor:"white",cursor:"ew-resize",transform:"translateX(-50%)"}},(0,e.createElement)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"white",border:"2px solid #0073aa",display:"flex",alignItems:"center",justifyContent:"center"}},"⇄")),m&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{position:"absolute",top:"10px",left:"10px",padding:"5px 10px",backgroundColor:"rgba(0,0,0,0.7)",color:"white",borderRadius:"4px"}},s),(0,e.createElement)("div",{style:{position:"absolute",top:"10px",right:"10px",padding:"5px 10px",backgroundColor:"rgba(0,0,0,0.7)",color:"white",borderRadius:"4px"}},u)))):(0,e.createElement)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",background:"#f0f0f0"}},(0,n.__)("Bitte wählen Sie ein Vorher- und ein Nachher-Bild","modular-blocks-plugin"))))))},save:()=>null})})();