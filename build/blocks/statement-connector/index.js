(()=>{"use strict";var e={20:(e,t,l)=>{var n=l(609),o=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,l){var n,i={},s=null,m=null;for(n in void 0!==l&&(s=""+l),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(m=t.ref),t)a.call(t,n)&&!c.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:s,ref:m,props:i,_owner:r.current}}},609:e=>{e.exports=window.React},848:(e,t,l)=>{e.exports=l(20)}},t={};function l(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,l),a.exports}var n=l(609);const o=window.wp.blocks,a=window.wp.blockEditor,r=window.wp.components,c=window.wp.i18n,i=window.wp.primitives;var s=l(848);const m=(0,s.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),u=(0,s.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(i.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})});(0,o.registerBlockType)("modular-blocks/statement-connector",{edit:({attributes:e,setAttributes:t})=>{const{title:l,description:o,leftColumn:i,rightColumn:s,connections:d,showFeedback:g,showRetry:p,showSolution:b,allowMultipleConnections:h,connectionStyle:C,lineWidth:E,animateConnections:_,instantFeedback:k,successText:v,partialSuccessText:x,failText:f}=e,y=(0,a.useBlockProps)(),w=(e,l,n)=>{const o=[...i.items];o[e]={...o[e],[l]:n},t({leftColumn:{...i,items:o}})},T=(e,l,n)=>{const o=[...s.items];o[e]={...o[e],[l]:n},t({rightColumn:{...s,items:o}})};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(a.InspectorControls,null,(0,n.createElement)(r.PanelBody,{title:(0,c.__)("Einstellungen","modular-blocks-plugin")},(0,n.createElement)(r.ToggleControl,{label:(0,c.__)("Feedback anzeigen","modular-blocks-plugin"),checked:g,onChange:e=>t({showFeedback:e})}),(0,n.createElement)(r.ToggleControl,{label:(0,c.__)("Wiederholen erlauben","modular-blocks-plugin"),checked:p,onChange:e=>t({showRetry:e})}),(0,n.createElement)(r.ToggleControl,{label:(0,c.__)("Lösung anzeigen","modular-blocks-plugin"),checked:b,onChange:e=>t({showSolution:e})}),(0,n.createElement)(r.ToggleControl,{label:(0,c.__)("Mehrfachverbindungen erlauben","modular-blocks-plugin"),checked:h,onChange:e=>t({allowMultipleConnections:e})}),(0,n.createElement)(r.ToggleControl,{label:(0,c.__)("Sofortiges Feedback","modular-blocks-plugin"),checked:k,onChange:e=>t({instantFeedback:e})}),(0,n.createElement)(r.ToggleControl,{label:(0,c.__)("Verbindungen animieren","modular-blocks-plugin"),checked:_,onChange:e=>t({animateConnections:e})}),(0,n.createElement)(r.SelectControl,{label:(0,c.__)("Verbindungs-Stil","modular-blocks-plugin"),value:C,options:[{label:(0,c.__)("Linie","modular-blocks-plugin"),value:"line"},{label:(0,c.__)("Pfeil","modular-blocks-plugin"),value:"arrow"},{label:(0,c.__)("Kurve","modular-blocks-plugin"),value:"curve"}],onChange:e=>t({connectionStyle:e})}),(0,n.createElement)(r.RangeControl,{label:(0,c.__)("Linienbreite","modular-blocks-plugin"),value:E,onChange:e=>t({lineWidth:e}),min:1,max:10})),(0,n.createElement)(r.PanelBody,{title:(0,c.__)("Texte","modular-blocks-plugin"),initialOpen:!1},(0,n.createElement)(r.TextControl,{label:(0,c.__)("Erfolgs-Text","modular-blocks-plugin"),value:v,onChange:e=>t({successText:e})}),(0,n.createElement)(r.TextControl,{label:(0,c.__)("Teil-Erfolg Text","modular-blocks-plugin"),value:x,onChange:e=>t({partialSuccessText:e})}),(0,n.createElement)(r.TextControl,{label:(0,c.__)("Fehlschlag-Text","modular-blocks-plugin"),value:f,onChange:e=>t({failText:e})}))),(0,n.createElement)("div",{...y},(0,n.createElement)("div",{className:"statement-connector-container"},(0,n.createElement)("div",{className:"connector-header"},(0,n.createElement)(r.TextControl,{label:(0,c.__)("Titel","modular-blocks-plugin"),value:l,onChange:e=>t({title:e})}),(0,n.createElement)(r.TextControl,{label:(0,c.__)("Beschreibung","modular-blocks-plugin"),value:o,onChange:e=>t({description:e})})),(0,n.createElement)("div",{className:"columns-editor",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"}},(0,n.createElement)("div",null,(0,n.createElement)(r.TextControl,{label:(0,c.__)("Titel linke Spalte","modular-blocks-plugin"),value:i.title,onChange:e=>t({leftColumn:{...i,title:e}})}),i.items.map((e,l)=>(0,n.createElement)(r.Card,{key:l,style:{marginBottom:"10px"}},(0,n.createElement)(r.CardHeader,null,(0,n.createElement)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}},(0,n.createElement)("strong",null,e.text||`Item ${l+1}`),(0,n.createElement)(r.Button,{onClick:()=>(e=>{if(i.items.length<=1)return;const l=i.items.filter((t,l)=>l!==e);t({leftColumn:{...i,items:l}})})(l),icon:m,variant:"tertiary",size:"small",isDestructive:!0}))),(0,n.createElement)(r.CardBody,null,(0,n.createElement)(r.TextControl,{label:(0,c.__)("Text","modular-blocks-plugin"),value:e.text,onChange:e=>w(l,"text",e)}),(0,n.createElement)("div",null,(0,n.createElement)("label",null,(0,c.__)("Farbe","modular-blocks-plugin")),(0,n.createElement)(r.ColorPicker,{color:e.color,onChangeComplete:e=>w(l,"color",e.hex)}))))),(0,n.createElement)(r.Button,{onClick:()=>{const e=[...i.items,{id:`item${Date.now()}`,text:`Begriff ${i.items.length+1}`,color:"#0073aa"}];t({leftColumn:{...i,items:e}})},icon:u,variant:"secondary",size:"small"},(0,c.__)("Item hinzufügen","modular-blocks-plugin"))),(0,n.createElement)("div",null,(0,n.createElement)(r.TextControl,{label:(0,c.__)("Titel rechte Spalte","modular-blocks-plugin"),value:s.title,onChange:e=>t({rightColumn:{...s,title:e}})}),s.items.map((e,l)=>(0,n.createElement)(r.Card,{key:l,style:{marginBottom:"10px"}},(0,n.createElement)(r.CardHeader,null,(0,n.createElement)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}},(0,n.createElement)("strong",null,e.text||`Item ${l+1}`),(0,n.createElement)(r.Button,{onClick:()=>(e=>{if(s.items.length<=1)return;const l=s.items.filter((t,l)=>l!==e);t({rightColumn:{...s,items:l}})})(l),icon:m,variant:"tertiary",size:"small",isDestructive:!0}))),(0,n.createElement)(r.CardBody,null,(0,n.createElement)(r.TextControl,{label:(0,c.__)("Text","modular-blocks-plugin"),value:e.text,onChange:e=>T(l,"text",e)}),(0,n.createElement)(r.SelectControl,{label:(0,c.__)("Korrekte Verbindung","modular-blocks-plugin"),value:e.correctConnection,options:[{label:(0,c.__)("-- Auswählen --","modular-blocks-plugin"),value:""},...i.items.map(e=>({label:e.text,value:e.id}))],onChange:e=>T(l,"correctConnection",e)}),(0,n.createElement)("div",null,(0,n.createElement)("label",null,(0,c.__)("Farbe","modular-blocks-plugin")),(0,n.createElement)(r.ColorPicker,{color:e.color,onChangeComplete:e=>T(l,"color",e.hex)}))))),(0,n.createElement)(r.Button,{onClick:()=>{const e=[...s.items,{id:`def${Date.now()}`,text:`Definition ${s.items.length+1}`,color:"#0073aa",correctConnection:""}];t({rightColumn:{...s,items:e}})},icon:u,variant:"secondary",size:"small"},(0,c.__)("Item hinzufügen","modular-blocks-plugin")))),(0,n.createElement)("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#f0f6fc",borderLeft:"4px solid #0073aa",fontSize:"12px"}},(0,c.__)("Vorschau: Verbindungen funktionieren im Frontend. Konfigurieren Sie die korrekten Zuordnungen oben.","modular-blocks-plugin")))))},save:({attributes:e})=>{const{title:t,description:l,leftColumn:o,rightColumn:r,connections:i,showFeedback:s,showRetry:m,showSolution:u,allowMultipleConnections:d,connectionStyle:g,lineWidth:p,animateConnections:b,instantFeedback:h,successText:C,partialSuccessText:E,failText:_}=e,k=a.useBlockProps.save(),v={leftColumn:o,rightColumn:r,connections:i,showFeedback:s,showRetry:m,showSolution:u,allowMultipleConnections:d,connectionStyle:g,lineWidth:p,animateConnections:b,instantFeedback:h,successText:C,partialSuccessText:E,failText:_};return(0,n.createElement)("div",{...k,"data-connector-config":JSON.stringify(v)},(0,n.createElement)("div",{className:"statement-connector-container"},t&&(0,n.createElement)("h3",{className:"connector-title"},t),l&&(0,n.createElement)("p",{className:"connector-description"},l),(0,n.createElement)("div",{className:"connector-area"},(0,n.createElement)("div",{className:"left-column"},(0,n.createElement)("h4",null,o.title),(0,n.createElement)("div",{className:"items-list"},o.items.map((e,t)=>(0,n.createElement)("div",{key:e.id,className:"connector-item left-item","data-item-id":e.id,style:{borderColor:e.color}},(0,n.createElement)("span",{className:"item-text"},e.text),(0,n.createElement)("div",{className:"connector-point",style:{backgroundColor:e.color}}))))),(0,n.createElement)("svg",{className:"connections-canvas",style:{width:"100%",height:"100%",position:"absolute",pointerEvents:"none"}}),(0,n.createElement)("div",{className:"right-column"},(0,n.createElement)("h4",null,r.title),(0,n.createElement)("div",{className:"items-list"},r.items.map((e,t)=>(0,n.createElement)("div",{key:e.id,className:"connector-item right-item","data-item-id":e.id,style:{borderColor:e.color}},(0,n.createElement)("div",{className:"connector-point",style:{backgroundColor:e.color}}),(0,n.createElement)("span",{className:"item-text"},e.text)))))),(0,n.createElement)("div",{className:"connector-controls"},(0,n.createElement)("button",{type:"button",className:"connector-button connector-check"},(0,c.__)("Prüfen","modular-blocks-plugin")),m&&(0,n.createElement)("button",{type:"button",className:"connector-button connector-retry",style:{display:"none"}},(0,c.__)("Wiederholen","modular-blocks-plugin")),u&&(0,n.createElement)("button",{type:"button",className:"connector-button connector-solution",style:{display:"none"}},(0,c.__)("Lösung anzeigen","modular-blocks-plugin"))),(0,n.createElement)("div",{className:"connector-results",style:{display:"none"}},(0,n.createElement)("div",{className:"result-message"}))))}})})();