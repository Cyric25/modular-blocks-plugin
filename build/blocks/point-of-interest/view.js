!function(){"use strict";window.initPointOfInterest=function(t){if(!t)return;const e=t.getAttribute("data-poi-config");if(!e)return;const o=JSON.parse(e),n=t.querySelectorAll(".hotspot"),s=t.querySelector(".poi-image-container");let l=null;if(n.forEach((t,e)=>{const n=t.querySelector(".hotspot-popup"),s=n.querySelector(".popup-close"),c=o.hotspots[e]?.trigger||"click";"click"===c?t.addEventListener("click",e=>{e.stopPropagation(),function(t,e){"none"!==e.style.display?r(e):(o.autoClose&&l&&l!==e&&r(l),i(t,e))}(t,n)}):"hover"===c&&(t.addEventListener("mouseenter",()=>{i(t,n)}),t.addEventListener("mouseleave",()=>{o.autoClose&&r(n)})),s&&s.addEventListener("click",t=>{t.stopPropagation(),r(n)})}),o.closeOnOutsideClick&&document.addEventListener("click",t=>{!t.target.closest(".hotspot")&&l&&r(l)}),o.enableZoom){const t=s.querySelector(".poi-background");if(t){let e=!1;t.addEventListener("click",()=>{e=!e,e?(t.style.transform=`scale(${o.zoomLevel/100})`,t.style.cursor="zoom-out"):(t.style.transform="scale(1)",t.style.cursor="zoom-in")}),t.style.cursor="zoom-in",t.style.transition="transform 0.3s ease"}}function i(t,e){e.style.display="block",l=e,function(t,e){const n=t.getBoundingClientRect(),l=s.getBoundingClientRect(),i=e.getBoundingClientRect();if("auto"===o.popupPosition){const t=l.right-n.right,o=n.left-l.left,s=l.bottom-n.bottom;n.top,l.top,t>=i.width?(e.style.left="100%",e.style.right="auto",e.style.top="50%",e.style.transform="translateY(-50%)"):o>=i.width?(e.style.right="100%",e.style.left="auto",e.style.top="50%",e.style.transform="translateY(-50%)"):s>=i.height?(e.style.top="100%",e.style.left="50%",e.style.transform="translateX(-50%)"):(e.style.bottom="100%",e.style.left="50%",e.style.transform="translateX(-50%)")}}(t,e)}function r(t){t.style.display="none",l===t&&(l=null)}},document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".wp-block-modular-blocks-point-of-interest").forEach(t=>{window.initPointOfInterest(t)})})}();